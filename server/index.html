<!DOCTYPE html>
<html>
    <head>
        <title>Home</title>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <script src="/socket.io/socket.io.js"></script>
        <style>
            html, body{
                margin: none;
                padding: none;
            }
            *{
                font-family: Arial, Helvetica, sans-serif;
            }
            #header{
                transition: all 0.3s;
            }
            #mouse{
                position: absolute;
                left: 20px;
                top: 80px;
            }
        </style>
    </head>
    <body>
        <h1 id="header">Server</h1>
        <svg id="mouse" xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-arrow-up-left" width="60" height="60" viewBox="0 0 24 24" stroke-width="2" stroke="#ff0000" fill="none" stroke-linecap="round" stroke-linejoin="round">
            <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
            <line x1="7" y1="7" x2="17" y2="17" />
            <polyline points="16 7 7 7 7 16" />
          </svg>
        <script>
            var socket = io();

            socket.on('updatemouse', changeMouse);

            pos=[20,80];

            function changeMouse(changePos){
                pos=[pos[0]+parseInt(changePos[0]), pos[1]+parseInt(changePos[1])];
                if (pos[0]<0){
                    pos[0]=0;
                }
                if (pos[1]<0){
                    pos[1]=0;
                }
                document.getElementById("mouse").style.left = pos[0]+"px";
                document.getElementById("mouse").style.top = pos[1]+"px";
                if (detectOverlap(document.getElementById("header"), document.getElementById("mouse"))){
                    document.getElementById("header").style.color="red";
                } else {
                    document.getElementById("header").style.color="black";
                }
            }

            var detectOverlap = (function () {
            function getPositions(elem) {
                var pos = elem.getBoundingClientRect();
                return [[pos.left, pos.right], [pos.top, pos.bottom]];
            }

            function comparePositions(p1, p2) {
                var r1, r2;
                if (p1[0] < p2[0]) {
                r1 = p1;
                r2 = p2;
                } else {
                r1 = p2;
                r2 = p1;
                }
                return r1[1] > r2[0] || r1[0] === r2[0];
            }

            return function (a, b) {
                var pos1 = getPositions(a),
                    pos2 = getPositions(b);
                return comparePositions(pos1[0], pos2[0]) && comparePositions(pos1[1], pos2[1]);
            };
            })();
        </script>
    </body>
</html>